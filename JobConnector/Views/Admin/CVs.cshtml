
@{
    ViewBag.Title = "Jobs";
    var cvs = (List<JobConnector.Models.Doc>)ViewData["cvs"];
}

<div class="container">

    <h2 class="w-100 text-center">CVs Uploaded by Partners</h2>
    @if (cvs == null || cvs.Count == 0)
    {
        <p class="text-danger">No CVs have been uploaded by partners!!</p>
    }
    else
    {
        <div class="row d-flex justify-content-between">
            <div class="col-2" style="height: 500px; overflow-y: scroll;">
                <ol>
                    @foreach (var cv in cvs)
                    {
                        <li id="../uploads/@cv.Link" class="cv_link border-bottom" style="">@cv.Name</li>
                    }
                </ol>
            </div>

            <div class="col-8">
                <iframe width="100%" height="500" id="cv_frame"></iframe>
            </div>
        </div>
        
    }
    <script>
        onload = () => {
            const cvs = document.querySelectorAll(".cv_link");
            cvs.forEach((cv) => {
                cv.addEventListener("click", e => {
                    document.getElementById("cv_frame").src = cv.id;
                })
            })
        }
    </script>
</div>
